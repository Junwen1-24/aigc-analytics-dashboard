import{S as lt,c as ii,f as ri,i as Zn,g as ct,j as ei,k as st}from"./transform-oW_9wQLA.js";import{g as $n,n as oi,s as C,i as j,j as tn,k as vn,o as mn,r as X,q as Y,t as G,a as F,p as L,u as ui,e as T,v as H,w as ht,A as b,h as W,x as fi,c as ai,y as en}from"./YlOrRd-BLDl4Kwt.js";function li(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function Dt(n){let t,r,i;n.length!==2?(t=$n,r=(o,h)=>$n(n(o),h),i=(o,h)=>n(o)-h):(t=n===$n||n===li?n:ci,r=n,i=n);function e(o,h,a=0,c=o.length){if(a<c){if(t(h,h)!==0)return c;do{const f=a+c>>>1;r(o[f],h)<0?a=f+1:c=f}while(a<c)}return a}function l(o,h,a=0,c=o.length){if(a<c){if(t(h,h)!==0)return c;do{const f=a+c>>>1;r(o[f],h)<=0?a=f+1:c=f}while(a<c)}return a}function u(o,h,a=0,c=o.length){const f=e(o,h,a,c-1);return f>a&&i(o[f-1],h)>-i(o[f],h)?f-1:f}return{left:e,center:u,right:l}}function ci(){return 0}const si=Dt($n),hi=si.right;Dt(oi).center;const pi=Math.sqrt(50),gi=Math.sqrt(10),di=Math.sqrt(2);function Pn(n,t,r){const i=(t-n)/Math.max(0,r),e=Math.floor(Math.log10(i)),l=i/Math.pow(10,e),u=l>=pi?10:l>=gi?5:l>=di?2:1;let o,h,a;return e<0?(a=Math.pow(10,-e)/u,o=Math.round(n*a),h=Math.round(t*a),o/a<n&&++o,h/a>t&&--h,a=-a):(a=Math.pow(10,e)*u,o=Math.round(n/a),h=Math.round(t/a),o*a<n&&++o,h*a>t&&--h),h<o&&.5<=r&&r<2?Pn(n,t,r*2):[o,h,a]}function vi(n,t,r){if(t=+t,n=+n,r=+r,!(r>0))return[];if(n===t)return[n];const i=t<n,[e,l,u]=i?Pn(t,n,r):Pn(n,t,r);if(!(l>=e))return[];const o=l-e+1,h=new Array(o);if(i)if(u<0)for(let a=0;a<o;++a)h[a]=(l-a)/-u;else for(let a=0;a<o;++a)h[a]=(l-a)*u;else if(u<0)for(let a=0;a<o;++a)h[a]=(e+a)/-u;else for(let a=0;a<o;++a)h[a]=(e+a)*u;return h}function Hn(n,t,r){return t=+t,n=+n,r=+r,Pn(n,t,r)[2]}function mi(n,t,r){t=+t,n=+n,r=+r;const i=t<n,e=i?Hn(t,n,r):Hn(n,t,r);return(i?-1:1)*(e<0?1/-e:e)}function*Si(n){for(const t of n)yield*t}function Ft(n){return Array.from(Si(n))}function _r(n){return typeof n=="string"?new lt([[document.querySelector(n)]],[document.documentElement]):new lt([[n]],ii)}function yi(n,t){t||(t=[]);var r=n?Math.min(t.length,n.length):0,i=t.slice(),e;return function(l){for(e=0;e<r;++e)i[e]=n[e]*(1-l)+t[e]*l;return i}}function Mi(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function wi(n,t){var r=t?t.length:0,i=n?Math.min(r,n.length):0,e=new Array(i),l=new Array(r),u;for(u=0;u<i;++u)e[u]=Cn(n[u],t[u]);for(;u<r;++u)l[u]=t[u];return function(o){for(u=0;u<i;++u)l[u]=e[u](o);return l}}function Ei(n,t){var r=new Date;return n=+n,t=+t,function(i){return r.setTime(n*(1-i)+t*i),r}}function Ni(n,t){var r={},i={},e;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(e in t)e in n?r[e]=Cn(n[e],t[e]):i[e]=t[e];return function(l){for(e in r)i[e]=r[e](l);return i}}function Cn(n,t){var r=typeof t,i;return t==null||r==="boolean"?ri(t):(r==="number"?Zn:r==="string"?(i=st(t))?(t=i,ct):ei:t instanceof st?ct:t instanceof Date?Ei:Mi(t)?yi:Array.isArray(t)?wi:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ni:Zn)(n,t)}function qt(n,t){return n=+n,t=+t,function(r){return Math.round(n*(1-r)+t*r)}}function Ri(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function kn(n,t){if((r=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var r,i=n.slice(0,r);return[i.length>1?i[0]+i.slice(2):i,+n.slice(r+1)]}function fn(n){return n=kn(Math.abs(n)),n?n[1]:NaN}function _i(n,t){return function(r,i){for(var e=r.length,l=[],u=0,o=n[0],h=0;e>0&&o>0&&(h+o+1>i&&(o=Math.max(1,i-h)),l.push(r.substring(e-=o,e+o)),!((h+=o+1)>i));)o=n[u=(u+1)%n.length];return l.reverse().join(t)}}function $i(n){return function(t){return t.replace(/[0-9]/g,function(r){return n[+r]})}}var Ai=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zn(n){if(!(t=Ai.exec(n)))throw new Error("invalid format: "+n);var t;return new ut({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}zn.prototype=ut.prototype;function ut(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}ut.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Pi(n){n:for(var t=n.length,r=1,i=-1,e;r<t;++r)switch(n[r]){case".":i=e=r;break;case"0":i===0&&(i=r),e=r;break;default:if(!+n[r])break n;i>0&&(i=0);break}return i>0?n.slice(0,i)+n.slice(e+1):n}var xt;function ki(n,t){var r=kn(n,t);if(!r)return n+"";var i=r[0],e=r[1],l=e-(xt=Math.max(-8,Math.min(8,Math.floor(e/3)))*3)+1,u=i.length;return l===u?i:l>u?i+new Array(l-u+1).join("0"):l>0?i.slice(0,l)+"."+i.slice(l):"0."+new Array(1-l).join("0")+kn(n,Math.max(0,t+l-1))[0]}function pt(n,t){var r=kn(n,t);if(!r)return n+"";var i=r[0],e=r[1];return e<0?"0."+new Array(-e).join("0")+i:i.length>e+1?i.slice(0,e+1)+"."+i.slice(e+1):i+new Array(e-i.length+2).join("0")}const gt={"%":(n,t)=>(n*100).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:Ri,e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>pt(n*100,t),r:pt,s:ki,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function dt(n){return n}var vt=Array.prototype.map,mt=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function zi(n){var t=n.grouping===void 0||n.thousands===void 0?dt:_i(vt.call(n.grouping,Number),n.thousands+""),r=n.currency===void 0?"":n.currency[0]+"",i=n.currency===void 0?"":n.currency[1]+"",e=n.decimal===void 0?".":n.decimal+"",l=n.numerals===void 0?dt:$i(vt.call(n.numerals,String)),u=n.percent===void 0?"%":n.percent+"",o=n.minus===void 0?"−":n.minus+"",h=n.nan===void 0?"NaN":n.nan+"";function a(f){f=zn(f);var s=f.fill,d=f.align,g=f.sign,E=f.symbol,m=f.zero,N=f.width,M=f.comma,w=f.precision,S=f.trim,y=f.type;y==="n"?(M=!0,y="g"):gt[y]||(w===void 0&&(w=12),S=!0,y="g"),(m||s==="0"&&d==="=")&&(m=!0,s="0",d="=");var _=E==="$"?r:E==="#"&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",z=E==="$"?i:/[%p]/.test(y)?u:"",$=gt[y],k=/[defgprs%]/.test(y);w=w===void 0?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function I(v){var q=_,A=z,P,p,R;if(y==="c")A=$(v)+A,v="";else{v=+v;var D=v<0||1/v<0;if(v=isNaN(v)?h:$(Math.abs(v),w),S&&(v=Pi(v)),D&&+v==0&&g!=="+"&&(D=!1),q=(D?g==="("?g:o:g==="-"||g==="("?"":g)+q,A=(y==="s"?mt[8+xt/3]:"")+A+(D&&g==="("?")":""),k){for(P=-1,p=v.length;++P<p;)if(R=v.charCodeAt(P),48>R||R>57){A=(R===46?e+v.slice(P+1):v.slice(P))+A,v=v.slice(0,P);break}}}M&&!m&&(v=t(v,1/0));var B=q.length+v.length+A.length,x=B<N?new Array(N-B+1).join(s):"";switch(M&&m&&(v=t(x+v,x.length?N-A.length:1/0),x=""),d){case"<":v=q+v+A+x;break;case"=":v=q+x+v+A;break;case"^":v=x.slice(0,B=x.length>>1)+q+v+A+x.slice(B);break;default:v=x+q+v+A;break}return l(v)}return I.toString=function(){return f+""},I}function c(f,s){var d=a((f=zn(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(fn(s)/3)))*3,E=Math.pow(10,-g),m=mt[8+g/3];return function(N){return d(E*N)+m}}return{format:a,formatPrefix:c}}var wn,Ct,jt;Ii({thousands:",",grouping:[3],currency:["$",""]});function Ii(n){return wn=zi(n),Ct=wn.format,jt=wn.formatPrefix,wn}function Li(n){return Math.max(0,-fn(Math.abs(n)))}function Ti(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(fn(t)/3)))*3-fn(Math.abs(n)))}function Di(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,fn(t)-fn(n))+1}function Gn(n){return[vn(n[1],n[0]),mn(n[2])]}function an(n){var t=n[0],r=n[1],i=j(r);return[i*j(t),i*C(t),C(r)]}function En(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function In(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function jn(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function Nn(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function On(n){var t=tn(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function Vn(n,t){function r(i,e){return i=n(i,e),t(i[0],i[1])}return n.invert&&t.invert&&(r.invert=function(i,e){return i=t.invert(i,e),i&&n.invert(i[0],i[1])}),r}function Wn(n,t){return F(n)>L&&(n-=Math.round(n/G)*G),[n,t]}Wn.invert=Wn;function Xt(n,t,r){return(n%=G)?t||r?Vn(yt(n),Mt(t,r)):yt(n):t||r?Mt(t,r):Wn}function St(n){return function(t,r){return t+=n,F(t)>L&&(t-=Math.round(t/G)*G),[t,r]}}function yt(n){var t=St(n);return t.invert=St(-n),t}function Mt(n,t){var r=j(n),i=C(n),e=j(t),l=C(t);function u(o,h){var a=j(h),c=j(o)*a,f=C(o)*a,s=C(h),d=s*r+c*i;return[vn(f*e-d*l,c*r-s*i),mn(d*e+f*l)]}return u.invert=function(o,h){var a=j(h),c=j(o)*a,f=C(o)*a,s=C(h),d=s*e-f*l;return[vn(f*e+s*l,c*r+d*i),mn(d*r-c*i)]},u}function $r(n){n=Xt(n[0]*X,n[1]*X,n.length>2?n[2]*X:0);function t(r){return r=n(r[0]*X,r[1]*X),r[0]*=Y,r[1]*=Y,r}return t.invert=function(r){return r=n.invert(r[0]*X,r[1]*X),r[0]*=Y,r[1]*=Y,r},t}function Fi(n,t,r,i,e,l){if(r){var u=j(t),o=C(t),h=i*r;e==null?(e=t+i*G,l=t-h/2):(e=wt(u,e),l=wt(u,l),(i>0?e<l:e>l)&&(e+=i*G));for(var a,c=e;i>0?c>l:c<l;c-=h)a=Gn([u,-o*j(c),-o*C(c)]),n.point(a[0],a[1])}}function wt(n,t){t=an(t),t[0]-=n,On(t);var r=ui(-t[1]);return((-t[2]<0?-r:r)+G-T)%G}function Bt(){var n=[],t;return{point:function(r,i,e){t.push([r,i,e])},lineStart:function(){n.push(t=[])},lineEnd:H,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var r=n;return n=[],t=null,r}}}function An(n,t){return F(n[0]-t[0])<T&&F(n[1]-t[1])<T}function Rn(n,t,r,i){this.x=n,this.z=t,this.o=r,this.e=i,this.v=!1,this.n=this.p=null}function Yt(n,t,r,i,e){var l=[],u=[],o,h;if(n.forEach(function(g){if(!((E=g.length-1)<=0)){var E,m=g[0],N=g[E],M;if(An(m,N)){if(!m[2]&&!N[2]){for(e.lineStart(),o=0;o<E;++o)e.point((m=g[o])[0],m[1]);e.lineEnd();return}N[0]+=2*T}l.push(M=new Rn(m,g,null,!0)),u.push(M.o=new Rn(m,null,M,!1)),l.push(M=new Rn(N,g,null,!1)),u.push(M.o=new Rn(N,null,M,!0))}}),!!l.length){for(u.sort(t),Et(l),Et(u),o=0,h=u.length;o<h;++o)u[o].e=r=!r;for(var a=l[0],c,f;;){for(var s=a,d=!0;s.v;)if((s=s.n)===a)return;c=s.z,e.lineStart();do{if(s.v=s.o.v=!0,s.e){if(d)for(o=0,h=c.length;o<h;++o)e.point((f=c[o])[0],f[1]);else i(s.x,s.n.x,1,e);s=s.n}else{if(d)for(c=s.p.z,o=c.length-1;o>=0;--o)e.point((f=c[o])[0],f[1]);else i(s.x,s.p.x,-1,e);s=s.p}s=s.o,c=s.z,d=!d}while(!s.v);e.lineEnd()}}}function Et(n){if(t=n.length){for(var t,r=0,i=n[0],e;++r<t;)i.n=e=n[r],e.p=i,i=e;i.n=e=n[0],e.p=i}}function Xn(n){return F(n[0])<=L?n[0]:fi(n[0])*((F(n[0])+L)%G-L)}function qi(n,t){var r=Xn(t),i=t[1],e=C(i),l=[C(r),-j(r),0],u=0,o=0,h=new b;e===1?i=W+T:e===-1&&(i=-W-T);for(var a=0,c=n.length;a<c;++a)if(s=(f=n[a]).length)for(var f,s,d=f[s-1],g=Xn(d),E=d[1]/2+ht,m=C(E),N=j(E),M=0;M<s;++M,g=S,m=_,N=z,d=w){var w=f[M],S=Xn(w),y=w[1]/2+ht,_=C(y),z=j(y),$=S-g,k=$>=0?1:-1,I=k*$,v=I>L,q=m*_;if(h.add(vn(q*k*C(I),N*z+q*j(I))),u+=v?$+k*G:$,v^g>=r^S>=r){var A=In(an(d),an(w));On(A);var P=In(l,A);On(P);var p=(v^$>=0?-1:1)*mn(P[2]);(i>p||i===p&&(A[0]||A[1]))&&(o+=v^$>=0?1:-1)}}return(u<-T||u<T&&h<-1e-12)^o&1}function Zt(n,t,r,i){return function(e){var l=t(e),u=Bt(),o=t(u),h=!1,a,c,f,s={point:d,lineStart:E,lineEnd:m,polygonStart:function(){s.point=N,s.lineStart=M,s.lineEnd=w,c=[],a=[]},polygonEnd:function(){s.point=d,s.lineStart=E,s.lineEnd=m,c=Ft(c);var S=qi(a,i);c.length?(h||(e.polygonStart(),h=!0),Yt(c,Ci,S,r,e)):S&&(h||(e.polygonStart(),h=!0),e.lineStart(),r(null,null,1,e),e.lineEnd()),h&&(e.polygonEnd(),h=!1),c=a=null},sphere:function(){e.polygonStart(),e.lineStart(),r(null,null,1,e),e.lineEnd(),e.polygonEnd()}};function d(S,y){n(S,y)&&e.point(S,y)}function g(S,y){l.point(S,y)}function E(){s.point=g,l.lineStart()}function m(){s.point=d,l.lineEnd()}function N(S,y){f.push([S,y]),o.point(S,y)}function M(){o.lineStart(),f=[]}function w(){N(f[0][0],f[0][1]),o.lineEnd();var S=o.clean(),y=u.result(),_,z=y.length,$,k,I;if(f.pop(),a.push(f),f=null,!!z){if(S&1){if(k=y[0],($=k.length-1)>0){for(h||(e.polygonStart(),h=!0),e.lineStart(),_=0;_<$;++_)e.point((I=k[_])[0],I[1]);e.lineEnd()}return}z>1&&S&2&&y.push(y.pop().concat(y.shift())),c.push(y.filter(xi))}}return s}}function xi(n){return n.length>1}function Ci(n,t){return((n=n.x)[0]<0?n[1]-W-T:W-n[1])-((t=t.x)[0]<0?t[1]-W-T:W-t[1])}const Nt=Zt(function(){return!0},ji,Bi,[-L,-W]);function ji(n){var t=NaN,r=NaN,i=NaN,e;return{lineStart:function(){n.lineStart(),e=1},point:function(l,u){var o=l>0?L:-L,h=F(l-t);F(h-L)<T?(n.point(t,r=(r+u)/2>0?W:-W),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(o,r),n.point(l,r),e=0):i!==o&&h>=L&&(F(t-i)<T&&(t-=i*T),F(l-o)<T&&(l-=o*T),r=Xi(t,r,l,u),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(o,r),e=0),n.point(t=l,r=u),i=o},lineEnd:function(){n.lineEnd(),t=r=NaN},clean:function(){return 2-e}}}function Xi(n,t,r,i){var e,l,u=C(n-r);return F(u)>T?ai((C(t)*(l=j(i))*C(r)-C(i)*(e=j(t))*C(n))/(e*l*u)):(t+i)/2}function Bi(n,t,r,i){var e;if(n==null)e=r*W,i.point(-L,e),i.point(0,e),i.point(L,e),i.point(L,0),i.point(L,-e),i.point(0,-e),i.point(-L,-e),i.point(-L,0),i.point(-L,e);else if(F(n[0]-t[0])>T){var l=n[0]<t[0]?L:-L;e=r*l/2,i.point(-l,e),i.point(0,e),i.point(l,e)}else i.point(t[0],t[1])}function Yi(n){var t=j(n),r=2*X,i=t>0,e=F(t)>T;function l(c,f,s,d){Fi(d,n,r,s,c,f)}function u(c,f){return j(c)*j(f)>t}function o(c){var f,s,d,g,E;return{lineStart:function(){g=d=!1,E=1},point:function(m,N){var M=[m,N],w,S=u(m,N),y=i?S?0:a(m,N):S?a(m+(m<0?L:-L),N):0;if(!f&&(g=d=S)&&c.lineStart(),S!==d&&(w=h(f,M),(!w||An(f,w)||An(M,w))&&(M[2]=1)),S!==d)E=0,S?(c.lineStart(),w=h(M,f),c.point(w[0],w[1])):(w=h(f,M),c.point(w[0],w[1],2),c.lineEnd()),f=w;else if(e&&f&&i^S){var _;!(y&s)&&(_=h(M,f,!0))&&(E=0,i?(c.lineStart(),c.point(_[0][0],_[0][1]),c.point(_[1][0],_[1][1]),c.lineEnd()):(c.point(_[1][0],_[1][1]),c.lineEnd(),c.lineStart(),c.point(_[0][0],_[0][1],3)))}S&&(!f||!An(f,M))&&c.point(M[0],M[1]),f=M,d=S,s=y},lineEnd:function(){d&&c.lineEnd(),f=null},clean:function(){return E|(g&&d)<<1}}}function h(c,f,s){var d=an(c),g=an(f),E=[1,0,0],m=In(d,g),N=En(m,m),M=m[0],w=N-M*M;if(!w)return!s&&c;var S=t*N/w,y=-t*M/w,_=In(E,m),z=Nn(E,S),$=Nn(m,y);jn(z,$);var k=_,I=En(z,k),v=En(k,k),q=I*I-v*(En(z,z)-1);if(!(q<0)){var A=tn(q),P=Nn(k,(-I-A)/v);if(jn(P,z),P=Gn(P),!s)return P;var p=c[0],R=f[0],D=c[1],B=f[1],x;R<p&&(x=p,p=R,R=x);var cn=R-p,U=F(cn-L)<T,Q=U||cn<T;if(!U&&B<D&&(x=D,D=B,B=x),Q?U?D+B>0^P[1]<(F(P[0]-p)<T?D:B):D<=P[1]&&P[1]<=B:cn>L^(p<=P[0]&&P[0]<=R)){var J=Nn(k,(-I+A)/v);return jn(J,z),[P,Gn(J)]}}}function a(c,f){var s=i?n:L-n,d=0;return c<-s?d|=1:c>s&&(d|=2),f<-s?d|=4:f>s&&(d|=8),d}return Zt(u,o,l,i?[0,-n]:[-L,n-L])}function Zi(n,t,r,i,e,l){var u=n[0],o=n[1],h=t[0],a=t[1],c=0,f=1,s=h-u,d=a-o,g;if(g=r-u,!(!s&&g>0)){if(g/=s,s<0){if(g<c)return;g<f&&(f=g)}else if(s>0){if(g>f)return;g>c&&(c=g)}if(g=e-u,!(!s&&g<0)){if(g/=s,s<0){if(g>f)return;g>c&&(c=g)}else if(s>0){if(g<c)return;g<f&&(f=g)}if(g=i-o,!(!d&&g>0)){if(g/=d,d<0){if(g<c)return;g<f&&(f=g)}else if(d>0){if(g>f)return;g>c&&(c=g)}if(g=l-o,!(!d&&g<0)){if(g/=d,d<0){if(g>f)return;g>c&&(c=g)}else if(d>0){if(g<c)return;g<f&&(f=g)}return c>0&&(n[0]=u+c*s,n[1]=o+c*d),f<1&&(t[0]=u+f*s,t[1]=o+f*d),!0}}}}}var sn=1e9,_n=-sn;function Hi(n,t,r,i){function e(a,c){return n<=a&&a<=r&&t<=c&&c<=i}function l(a,c,f,s){var d=0,g=0;if(a==null||(d=u(a,f))!==(g=u(c,f))||h(a,c)<0^f>0)do s.point(d===0||d===3?n:r,d>1?i:t);while((d=(d+f+4)%4)!==g);else s.point(c[0],c[1])}function u(a,c){return F(a[0]-n)<T?c>0?0:3:F(a[0]-r)<T?c>0?2:1:F(a[1]-t)<T?c>0?1:0:c>0?3:2}function o(a,c){return h(a.x,c.x)}function h(a,c){var f=u(a,1),s=u(c,1);return f!==s?f-s:f===0?c[1]-a[1]:f===1?a[0]-c[0]:f===2?a[1]-c[1]:c[0]-a[0]}return function(a){var c=a,f=Bt(),s,d,g,E,m,N,M,w,S,y,_,z={point:$,lineStart:q,lineEnd:A,polygonStart:I,polygonEnd:v};function $(p,R){e(p,R)&&c.point(p,R)}function k(){for(var p=0,R=0,D=d.length;R<D;++R)for(var B=d[R],x=1,cn=B.length,U=B[0],Q,J,Mn=U[0],rn=U[1];x<cn;++x)Q=Mn,J=rn,U=B[x],Mn=U[0],rn=U[1],J<=i?rn>i&&(Mn-Q)*(i-J)>(rn-J)*(n-Q)&&++p:rn<=i&&(Mn-Q)*(i-J)<(rn-J)*(n-Q)&&--p;return p}function I(){c=f,s=[],d=[],_=!0}function v(){var p=k(),R=_&&p,D=(s=Ft(s)).length;(R||D)&&(a.polygonStart(),R&&(a.lineStart(),l(null,null,1,a),a.lineEnd()),D&&Yt(s,o,p,l,a),a.polygonEnd()),c=a,s=d=g=null}function q(){z.point=P,d&&d.push(g=[]),y=!0,S=!1,M=w=NaN}function A(){s&&(P(E,m),N&&S&&f.rejoin(),s.push(f.result())),z.point=$,S&&c.lineEnd()}function P(p,R){var D=e(p,R);if(d&&g.push([p,R]),y)E=p,m=R,N=D,y=!1,D&&(c.lineStart(),c.point(p,R));else if(D&&S)c.point(p,R);else{var B=[M=Math.max(_n,Math.min(sn,M)),w=Math.max(_n,Math.min(sn,w))],x=[p=Math.max(_n,Math.min(sn,p)),R=Math.max(_n,Math.min(sn,R))];Zi(B,x,n,t,r,i)?(S||(c.lineStart(),c.point(B[0],B[1])),c.point(x[0],x[1]),D||c.lineEnd(),_=!1):D&&(c.lineStart(),c.point(p,R),_=!1)}M=p,w=R,S=D}return z}}const Un=n=>n;var Bn=new b,Jn=new b,Ht,Gt,Kn,Qn,K={point:H,lineStart:H,lineEnd:H,polygonStart:function(){K.lineStart=Gi,K.lineEnd=Vi},polygonEnd:function(){K.lineStart=K.lineEnd=K.point=H,Bn.add(F(Jn)),Jn=new b},result:function(){var n=Bn/2;return Bn=new b,n}};function Gi(){K.point=Oi}function Oi(n,t){K.point=Ot,Ht=Kn=n,Gt=Qn=t}function Ot(n,t){Jn.add(Qn*n-Kn*t),Kn=n,Qn=t}function Vi(){Ot(Ht,Gt)}var ln=1/0,Ln=ln,Sn=-ln,Tn=Sn,Dn={point:Wi,lineStart:H,lineEnd:H,polygonStart:H,polygonEnd:H,result:function(){var n=[[ln,Ln],[Sn,Tn]];return Sn=Tn=-(Ln=ln=1/0),n}};function Wi(n,t){n<ln&&(ln=n),n>Sn&&(Sn=n),t<Ln&&(Ln=t),t>Tn&&(Tn=t)}var bn=0,nt=0,hn=0,Fn=0,qn=0,on=0,tt=0,it=0,pn=0,Vt,Wt,O,V,Z={point:nn,lineStart:Rt,lineEnd:_t,polygonStart:function(){Z.lineStart=Ki,Z.lineEnd=Qi},polygonEnd:function(){Z.point=nn,Z.lineStart=Rt,Z.lineEnd=_t},result:function(){var n=pn?[tt/pn,it/pn]:on?[Fn/on,qn/on]:hn?[bn/hn,nt/hn]:[NaN,NaN];return bn=nt=hn=Fn=qn=on=tt=it=pn=0,n}};function nn(n,t){bn+=n,nt+=t,++hn}function Rt(){Z.point=Ui}function Ui(n,t){Z.point=Ji,nn(O=n,V=t)}function Ji(n,t){var r=n-O,i=t-V,e=tn(r*r+i*i);Fn+=e*(O+n)/2,qn+=e*(V+t)/2,on+=e,nn(O=n,V=t)}function _t(){Z.point=nn}function Ki(){Z.point=bi}function Qi(){Ut(Vt,Wt)}function bi(n,t){Z.point=Ut,nn(Vt=O=n,Wt=V=t)}function Ut(n,t){var r=n-O,i=t-V,e=tn(r*r+i*i);Fn+=e*(O+n)/2,qn+=e*(V+t)/2,on+=e,e=V*n-O*t,tt+=e*(O+n),it+=e*(V+t),pn+=e*3,nn(O=n,V=t)}function Jt(n){this._context=n}Jt.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._context.moveTo(n,t),this._point=1;break}case 1:{this._context.lineTo(n,t);break}default:{this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,G);break}}},result:H};var rt=new b,Yn,Kt,Qt,gn,dn,yn={point:H,lineStart:function(){yn.point=nr},lineEnd:function(){Yn&&bt(Kt,Qt),yn.point=H},polygonStart:function(){Yn=!0},polygonEnd:function(){Yn=null},result:function(){var n=+rt;return rt=new b,n}};function nr(n,t){yn.point=bt,Kt=gn=n,Qt=dn=t}function bt(n,t){gn-=n,dn-=t,rt.add(tn(gn*gn+dn*dn)),gn=n,dn=t}let $t,xn,At,Pt;class kt{constructor(t){this._append=t==null?ni:tr(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,r){switch(this._point){case 0:{this._append`M${t},${r}`,this._point=1;break}case 1:{this._append`L${t},${r}`;break}default:{if(this._append`M${t},${r}`,this._radius!==At||this._append!==xn){const i=this._radius,e=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,At=i,xn=this._append,Pt=this._,this._=e}this._+=Pt;break}}}result(){const t=this._;return this._="",t.length?t:null}}function ni(n){let t=1;this._+=n[0];for(const r=n.length;t<r;++t)this._+=arguments[t]+n[t]}function tr(n){const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);if(t>15)return ni;if(t!==$t){const r=10**t;$t=t,xn=function(e){let l=1;this._+=e[0];for(const u=e.length;l<u;++l)this._+=Math.round(arguments[l]*r)/r+e[l]}}return xn}function Ar(n,t){let r=3,i=4.5,e,l;function u(o){return o&&(typeof i=="function"&&l.pointRadius(+i.apply(this,arguments)),en(o,e(l))),l.result()}return u.area=function(o){return en(o,e(K)),K.result()},u.measure=function(o){return en(o,e(yn)),yn.result()},u.bounds=function(o){return en(o,e(Dn)),Dn.result()},u.centroid=function(o){return en(o,e(Z)),Z.result()},u.projection=function(o){return arguments.length?(e=o==null?(n=null,Un):(n=o).stream,u):n},u.context=function(o){return arguments.length?(l=o==null?(t=null,new kt(r)):new Jt(t=o),typeof i!="function"&&l.pointRadius(i),u):t},u.pointRadius=function(o){return arguments.length?(i=typeof o=="function"?o:(l.pointRadius(+o),+o),u):i},u.digits=function(o){if(!arguments.length)return r;if(o==null)r=null;else{const h=Math.floor(o);if(!(h>=0))throw new RangeError(`invalid digits: ${o}`);r=h}return t===null&&(l=new kt(r)),u},u.projection(n).digits(r).context(t)}function ft(n){return function(t){var r=new et;for(var i in n)r[i]=n[i];return r.stream=t,r}}function et(){}et.prototype={constructor:et,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function at(n,t,r){var i=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),i!=null&&n.clipExtent(null),en(r,n.stream(Dn)),t(Dn.result()),i!=null&&n.clipExtent(i),n}function ti(n,t,r){return at(n,function(i){var e=t[1][0]-t[0][0],l=t[1][1]-t[0][1],u=Math.min(e/(i[1][0]-i[0][0]),l/(i[1][1]-i[0][1])),o=+t[0][0]+(e-u*(i[1][0]+i[0][0]))/2,h=+t[0][1]+(l-u*(i[1][1]+i[0][1]))/2;n.scale(150*u).translate([o,h])},r)}function ir(n,t,r){return ti(n,[[0,0],t],r)}function rr(n,t,r){return at(n,function(i){var e=+t,l=e/(i[1][0]-i[0][0]),u=(e-l*(i[1][0]+i[0][0]))/2,o=-l*i[0][1];n.scale(150*l).translate([u,o])},r)}function er(n,t,r){return at(n,function(i){var e=+t,l=e/(i[1][1]-i[0][1]),u=-l*i[0][0],o=(e-l*(i[1][1]+i[0][1]))/2;n.scale(150*l).translate([u,o])},r)}var zt=16,or=j(30*X);function It(n,t){return+t?fr(n,t):ur(n)}function ur(n){return ft({point:function(t,r){t=n(t,r),this.stream.point(t[0],t[1])}})}function fr(n,t){function r(i,e,l,u,o,h,a,c,f,s,d,g,E,m){var N=a-i,M=c-e,w=N*N+M*M;if(w>4*t&&E--){var S=u+s,y=o+d,_=h+g,z=tn(S*S+y*y+_*_),$=mn(_/=z),k=F(F(_)-1)<T||F(l-f)<T?(l+f)/2:vn(y,S),I=n(k,$),v=I[0],q=I[1],A=v-i,P=q-e,p=M*A-N*P;(p*p/w>t||F((N*A+M*P)/w-.5)>.3||u*s+o*d+h*g<or)&&(r(i,e,l,u,o,h,v,q,k,S/=z,y/=z,_,E,m),m.point(v,q),r(v,q,k,S,y,_,a,c,f,s,d,g,E,m))}}return function(i){var e,l,u,o,h,a,c,f,s,d,g,E,m={point:N,lineStart:M,lineEnd:S,polygonStart:function(){i.polygonStart(),m.lineStart=y},polygonEnd:function(){i.polygonEnd(),m.lineStart=M}};function N($,k){$=n($,k),i.point($[0],$[1])}function M(){f=NaN,m.point=w,i.lineStart()}function w($,k){var I=an([$,k]),v=n($,k);r(f,s,c,d,g,E,f=v[0],s=v[1],c=$,d=I[0],g=I[1],E=I[2],zt,i),i.point(f,s)}function S(){m.point=N,i.lineEnd()}function y(){M(),m.point=_,m.lineEnd=z}function _($,k){w(e=$,k),l=f,u=s,o=d,h=g,a=E,m.point=w}function z(){r(f,s,c,d,g,E,l,u,e,o,h,a,zt,i),m.lineEnd=S,S()}return m}}var ar=ft({point:function(n,t){this.stream.point(n*X,t*X)}});function lr(n){return ft({point:function(t,r){var i=n(t,r);return this.stream.point(i[0],i[1])}})}function cr(n,t,r,i,e){function l(u,o){return u*=i,o*=e,[t+n*u,r-n*o]}return l.invert=function(u,o){return[(u-t)/n*i,(r-o)/n*e]},l}function Lt(n,t,r,i,e,l){if(!l)return cr(n,t,r,i,e);var u=j(l),o=C(l),h=u*n,a=o*n,c=u/n,f=o/n,s=(o*r-u*t)/n,d=(o*t+u*r)/n;function g(E,m){return E*=i,m*=e,[h*E-a*m+t,r-a*E-h*m]}return g.invert=function(E,m){return[i*(c*E-f*m+s),e*(d-f*E-c*m)]},g}function Pr(n){return sr(function(){return n})()}function sr(n){var t,r=150,i=480,e=250,l=0,u=0,o=0,h=0,a=0,c,f=0,s=1,d=1,g=null,E=Nt,m=null,N,M,w,S=Un,y=.5,_,z,$,k,I;function v(p){return $(p[0]*X,p[1]*X)}function q(p){return p=$.invert(p[0],p[1]),p&&[p[0]*Y,p[1]*Y]}v.stream=function(p){return k&&I===p?k:k=ar(lr(c)(E(_(S(I=p)))))},v.preclip=function(p){return arguments.length?(E=p,g=void 0,P()):E},v.postclip=function(p){return arguments.length?(S=p,m=N=M=w=null,P()):S},v.clipAngle=function(p){return arguments.length?(E=+p?Yi(g=p*X):(g=null,Nt),P()):g*Y},v.clipExtent=function(p){return arguments.length?(S=p==null?(m=N=M=w=null,Un):Hi(m=+p[0][0],N=+p[0][1],M=+p[1][0],w=+p[1][1]),P()):m==null?null:[[m,N],[M,w]]},v.scale=function(p){return arguments.length?(r=+p,A()):r},v.translate=function(p){return arguments.length?(i=+p[0],e=+p[1],A()):[i,e]},v.center=function(p){return arguments.length?(l=p[0]%360*X,u=p[1]%360*X,A()):[l*Y,u*Y]},v.rotate=function(p){return arguments.length?(o=p[0]%360*X,h=p[1]%360*X,a=p.length>2?p[2]%360*X:0,A()):[o*Y,h*Y,a*Y]},v.angle=function(p){return arguments.length?(f=p%360*X,A()):f*Y},v.reflectX=function(p){return arguments.length?(s=p?-1:1,A()):s<0},v.reflectY=function(p){return arguments.length?(d=p?-1:1,A()):d<0},v.precision=function(p){return arguments.length?(_=It(z,y=p*p),P()):tn(y)},v.fitExtent=function(p,R){return ti(v,p,R)},v.fitSize=function(p,R){return ir(v,p,R)},v.fitWidth=function(p,R){return rr(v,p,R)},v.fitHeight=function(p,R){return er(v,p,R)};function A(){var p=Lt(r,0,0,s,d,f).apply(null,t(l,u)),R=Lt(r,i-p[0],e-p[1],s,d,f);return c=Xt(o,h,a),z=Vn(t,R),$=Vn(c,z),_=It(z,y),P()}function P(){return k=I=null,v}return function(){return t=n.apply(this,arguments),v.invert=t.invert&&q,A()}}function kr(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}function hr(n,t){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}function pr(n){return function(){return n}}function gr(n){return+n}var Tt=[0,1];function un(n){return n}function ot(n,t){return(t-=n=+n)?function(r){return(r-n)/t}:pr(isNaN(t)?NaN:.5)}function dr(n,t){var r;return n>t&&(r=n,n=t,t=r),function(i){return Math.max(n,Math.min(t,i))}}function vr(n,t,r){var i=n[0],e=n[1],l=t[0],u=t[1];return e<i?(i=ot(e,i),l=r(u,l)):(i=ot(i,e),l=r(l,u)),function(o){return l(i(o))}}function mr(n,t,r){var i=Math.min(n.length,t.length)-1,e=new Array(i),l=new Array(i),u=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++u<i;)e[u]=ot(n[u],n[u+1]),l[u]=r(t[u],t[u+1]);return function(o){var h=hi(n,o,1,i)-1;return l[h](e[h](o))}}function zr(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function Ir(){var n=Tt,t=Tt,r=Cn,i,e,l,u=un,o,h,a;function c(){var s=Math.min(n.length,t.length);return u!==un&&(u=dr(n[0],n[s-1])),o=s>2?mr:vr,h=a=null,f}function f(s){return s==null||isNaN(s=+s)?l:(h||(h=o(n.map(i),t,r)))(i(u(s)))}return f.invert=function(s){return u(e((a||(a=o(t,n.map(i),Zn)))(s)))},f.domain=function(s){return arguments.length?(n=Array.from(s,gr),c()):n.slice()},f.range=function(s){return arguments.length?(t=Array.from(s),c()):t.slice()},f.rangeRound=function(s){return t=Array.from(s),r=qt,c()},f.clamp=function(s){return arguments.length?(u=s?!0:un,c()):u!==un},f.interpolate=function(s){return arguments.length?(r=s,c()):r},f.unknown=function(s){return arguments.length?(l=s,f):l},function(s,d){return i=s,e=d,c()}}function Sr(n,t,r,i){var e=mi(n,t,r),l;switch(i=zn(i??",f"),i.type){case"s":{var u=Math.max(Math.abs(n),Math.abs(t));return i.precision==null&&!isNaN(l=Ti(e,u))&&(i.precision=l),jt(i,u)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(l=Di(e,Math.max(Math.abs(n),Math.abs(t))))&&(i.precision=l-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(l=Li(e))&&(i.precision=l-(i.type==="%")*2);break}}return Ct(i)}function yr(n){var t=n.domain;return n.ticks=function(r){var i=t();return vi(i[0],i[i.length-1],r??10)},n.tickFormat=function(r,i){var e=t();return Sr(e[0],e[e.length-1],r??10,i)},n.nice=function(r){r==null&&(r=10);var i=t(),e=0,l=i.length-1,u=i[e],o=i[l],h,a,c=10;for(o<u&&(a=u,u=o,o=a,a=e,e=l,l=a);c-- >0;){if(a=Hn(u,o,r),a===h)return i[e]=u,i[l]=o,t(i);if(a>0)u=Math.floor(u/a)*a,o=Math.ceil(o/a)*a;else if(a<0)u=Math.ceil(u*a)/a,o=Math.floor(o*a)/a;else break;h=a}return n},n}function Mr(){var n=0,t=1,r,i,e,l,u=un,o=!1,h;function a(f){return f==null||isNaN(f=+f)?h:u(e===0?.5:(f=(l(f)-r)*e,o?Math.max(0,Math.min(1,f)):f))}a.domain=function(f){return arguments.length?([n,t]=f,r=l(n=+n),i=l(t=+t),e=r===i?0:1/(i-r),a):[n,t]},a.clamp=function(f){return arguments.length?(o=!!f,a):o},a.interpolator=function(f){return arguments.length?(u=f,a):u};function c(f){return function(s){var d,g;return arguments.length?([d,g]=s,u=f(d,g),a):[u(0),u(1)]}}return a.range=c(Cn),a.rangeRound=c(qt),a.unknown=function(f){return arguments.length?(h=f,a):h},function(f){return l=f,r=f(n),i=f(t),e=r===i?0:1/(i-r),a}}function wr(n,t){return t.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function Er(){var n=yr(Mr()(un));return n.copy=function(){return wr(n,Er())},hr.apply(n,arguments)}export{un as a,Ar as b,zr as c,Er as d,kr as i,yr as l,Pr as p,$r as r,_r as s,Ir as t};
